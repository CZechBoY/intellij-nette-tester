<idea-plugin>
  <id>cz.jiripudil.intellij.nette.tester</id>
  <name>Nette Tester</name>
  <version>1.0.0-alpha.4</version>
  <vendor email="me@jiripudil.cz" url="https://jiripudil.cz">Jiří Pudil</vendor>

  <description><![CDATA[
    <a href="https://github.com/jiripudil/intellij-nette-tester">Github</a>

    <p>This plugin integrates <a href="https://tester.nette.org">Nette Tester</a>
    into PhpStorm IDE.</p>
  ]]></description>

  <change-notes><![CDATA[
    <h2>1.0.0-alpha.4</h2>
    <ul>
      <li>Fixed compatibility with PhpStorm 2016.3.</li>
    </ul>

    <h2>1.0.0-alpha.3</h2>
    <ul>
      <li>Fixed compatibility with PhpStorm 2016.3.</li>
    </ul>

    <h2>1.0-alpha2</h2>
    <ul>
      <li>Fixed compatibility with PhpStorm 2016.1.</li>
    </ul>

    <h2>1.0-alpha</h2>
    <p>Initial alpha version with basic capabilities:</p>
    <ul>
      <li>Tester run configuration type and editor.</li>
      <li>Displays results in the Test Runner window.</li>
    </ul>
  ]]></change-notes>

  <idea-version since-build="141.0"/>

  <depends>com.intellij.modules.lang</depends>
  <depends>com.jetbrains.php</depends>

  <extensions defaultExtensionNs="com.intellij">
    <configurationType implementation="cz.jiripudil.intellij.nette.tester.configuration.TesterConfigurationType"/>
    <runConfigurationProducer implementation="cz.jiripudil.intellij.nette.tester.configuration.TesterRunConfigurationProducer"/>
    <analyzeStacktraceFilter implementation="cz.jiripudil.intellij.nette.tester.execution.TesterStackTraceFilter"/>

    <testFinder implementation="cz.jiripudil.intellij.nette.tester.TesterTestFinder"/>
    <testCreator language="PHP" implementationClass="cz.jiripudil.intellij.nette.tester.codeGeneration.TesterTestCreator"/>
    <internalFileTemplate name="Tester TestCase"/>

    <projectService serviceImplementation="cz.jiripudil.intellij.nette.tester.projectSettings.TesterProjectSettingsManager"/>
    <projectConfigurable
      instance="cz.jiripudil.intellij.nette.tester.projectSettings.TesterConfigurable"
      displayName="Nette Tester"
      id="cz.jiripudil.intellij.nette.tester.projectSettings.TesterConfigurable"
      parentId="reference.webide.settings.project.settings.php"
      groupWeight="25"
    />
  </extensions>

  <actions>
    <group id="TesterNewGroup" class="com.intellij.ide.actions.NonTrivialActionGroup" text="Nette Tester" popup="true" icon="PhpIcons.Phpunit">
      <action id="TesterNewTestCase" class="cz.jiripudil.intellij.nette.tester.codeGeneration.TesterNewTestCaseAction"/>
      <add-to-group group-id="NewGroup" anchor="last"/>
    </group>

    <group id="TesterGenerateGroup">
      <action id="TesterGenerateTestMethod" class="cz.jiripudil.intellij.nette.tester.codeGeneration.TesterGenerateTestMethodAction"/>
      <action id="TesterGenerateSetupMethod" class="cz.jiripudil.intellij.nette.tester.codeGeneration.TesterGenerateSetupMethodAction"/>
      <action id="TesterGenerateTeardownMethod" class="cz.jiripudil.intellij.nette.tester.codeGeneration.TesterGenerateTeardownMethodAction"/>
      <separator/>
      <add-to-group group-id="GenerateGroup" anchor="first"/>
    </group>
  </actions>

  <application-components>
    <component>
      <implementation-class>cz.jiripudil.intellij.nette.tester.TesterTestCreatorEnabler</implementation-class>
    </component>
  </application-components>
</idea-plugin>
